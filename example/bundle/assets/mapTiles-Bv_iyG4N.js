import{W as u,S as c,a as g}from"./three.module-DBfedTbk.js";/* empty css               */import{T as w}from"./TilesRenderer-UmkQDoLb.js";import{G as f}from"./GlobeControls-CXYtrMsa.js";import{E as h}from"./EnvironmentControls-BBSDix_Q.js";import{U as P}from"./UpdateOnChangePlugin-CSUQNJGT.js";import{T as C}from"./TilesFadePlugin-BEWaci6K.js";import{X as E}from"./EPSGTilesPlugin-C-ZW09X4.js";import{g as x}from"./lil-gui.module.min-BH_YJbPT.js";import"./I3DMLoader-Co8j1K3i.js";import"./BatchTable-CRr3zuRk.js";import"./GLTFLoader-BjagHNWe.js";import"./Ellipsoid-CLPX16sm.js";import"./B3DMLoader-D_8ejTd0.js";import"./PNTSLoader-C47qgwy1.js";import"./CMPTLoader-CdR2x6K5.js";import"./EllipsoidRegion-By3sIuka.js";import"./ImageFormatPlugin-Cwk6ueKg.js";import"./TMSImageSource-CIsRgZv6.js";import"./TiledImageSource-DLt2EM25.js";let n,o,r,e,i;const s={errorTarget:1,planar:!1},a=R(m);T();m();function T(){r=new u({antialias:!0}),r.setPixelRatio(window.devicePixelRatio),r.setSize(window.innerWidth,window.innerHeight),r.setClearColor(1118481),document.body.appendChild(r.domElement),o=new c,i=new g(60,window.innerWidth/window.innerHeight,.001,1e4),l(),p(),window.addEventListener("resize",p,!1);const t=new x;t.add(s,"planar").onChange(l),t.add(s,"errorTarget",1,40).onChange(()=>{e.getPluginByName("UPDATE_ON_CHANGE_PLUGIN").needsUpdate=!0,a()}),t.open()}function l(){e&&e.dispose(),n&&n.dispose(),e=new w,e.registerPlugin(new C({maximumFadeOutTiles:200})),e.registerPlugin(new P),e.registerPlugin(new E({center:!0,shape:s.planar?"planar":"ellipsoid",url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"})),e.lruCache.minSize=900,e.lruCache.maxSize=1300,e.parseQueue.maxJobs=3,e.setCamera(i),o.add(e.group),s.planar?(n=new h(o,i,r.domElement),n.enableDamping=!0,n.minDistance=1e-4,n.maxDistance=5,n.cameraRadius=0,n.fallbackPlane.normal.set(0,0,1),n.up.set(0,0,1),n.camera.position.set(0,0,2),n.camera.quaternion.identity(),i.near=1e-4,i.far=10,i.updateProjectionMatrix()):(e.group.rotation.x=-Math.PI/2,n=new f(o,i,r.domElement),n.setEllipsoid(e.ellipsoid,e.group),n.enableDamping=!0,n.camera.position.set(0,0,1.75*1e7),n.camera.quaternion.identity(),n.minDistance=150),n.addEventListener("change",a),n.addEventListener("end",a),e.addEventListener("needs-render",a),e.addEventListener("needs-update",a),m()}function p(){const t=window.innerWidth/window.innerHeight;i.aspect=t,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight),a()}function m(){n.update(),i.updateMatrixWorld(),e.errorTarget=s.errorTarget,e.setCamera(i),e.setResolutionFromRenderer(i,r),e.update(),r.render(o,i)}function R(t){let d=!1;return()=>{d||(d=!0,requestAnimationFrame(()=>{d=!1,t()}))}}
//# sourceMappingURL=mapTiles-Bv_iyG4N.js.map
