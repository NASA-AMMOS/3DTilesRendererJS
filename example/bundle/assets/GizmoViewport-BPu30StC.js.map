{"version":3,"file":"GizmoViewport-BPu30StC.js","sources":["../../../node_modules/@react-three/drei/core/Fbo.js","../../../node_modules/@react-three/drei/core/OrthographicCamera.js","../../../node_modules/@react-three/drei/core/Hud.js","../../../node_modules/@react-three/drei/core/GizmoHelper.js","../../../node_modules/@react-three/drei/core/GizmoViewport.js"],"sourcesContent":["import * as React from 'react';\nimport { forwardRef, useImperativeHandle } from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\n\n// ðŸ‘‡ uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO(/** Width in pixels, or settings (will render fullscreen by default) */\nwidth, /** Height in pixels */\nheight, /**Settings */\nsettings) {\n  const size = useThree(state => state.size);\n  const viewport = useThree(state => state.viewport);\n  const _width = typeof width === 'number' ? width : size.width * viewport.dpr;\n  const _height = typeof height === 'number' ? height : size.height * viewport.dpr;\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n  const {\n    samples = 0,\n    depth,\n    ...targetSettings\n  } = _settings;\n  const depthBuffer = depth !== null && depth !== void 0 ? depth : _settings.depthBuffer; // backwards compatibility for deprecated `depth` prop\n\n  const target = React.useMemo(() => {\n    const target = new THREE.WebGLRenderTarget(_width, _height, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      type: THREE.HalfFloatType,\n      ...targetSettings\n    });\n    if (depthBuffer) {\n      target.depthTexture = new THREE.DepthTexture(_width, _height, THREE.FloatType);\n    }\n    target.samples = samples;\n    return target;\n  }, []);\n  React.useLayoutEffect(() => {\n    target.setSize(_width, _height);\n    if (samples) target.samples = samples;\n  }, [samples, target, _width, _height]);\n  React.useEffect(() => {\n    return () => target.dispose();\n  }, []);\n  return target;\n}\n\n//\n// Fbo component\n//\n\nconst Fbo = /* @__PURE__ */forwardRef(({\n  children,\n  width,\n  height,\n  ...settings\n}, fref) => {\n  const target = useFBO(width, height, settings);\n  useImperativeHandle(fref, () => target, [target]); // expose target through ref\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children == null ? void 0 : children(target));\n});\n\nexport { Fbo, useFBO };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './Fbo.js';\n\nconst isFunction = node => typeof node === 'function';\nconst OrthographicCamera = /* @__PURE__ */React.forwardRef(({\n  envMap,\n  resolution = 256,\n  frames = Infinity,\n  children,\n  makeDefault,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef(null);\n  React.useImperativeHandle(ref, () => cameraRef.current, []);\n  const groupRef = React.useRef(null);\n  const fbo = useFBO(resolution);\n  React.useLayoutEffect(() => {\n    if (!props.manual) {\n      cameraRef.current.updateProjectionMatrix();\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    cameraRef.current.updateProjectionMatrix();\n  });\n  React.useLayoutEffect(() => {\n    if (makeDefault) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    }\n    // The camera should not be part of the dependency list because this components camera is a stable reference\n    // that must exchange the default, and clean up after itself on unmount.\n  }, [cameraRef, makeDefault, set]);\n  let count = 0;\n  let oldEnvMap = null;\n  const functional = isFunction(children);\n  useFrame(state => {\n    if (functional && (frames === Infinity || count < frames)) {\n      groupRef.current.visible = false;\n      state.gl.setRenderTarget(fbo);\n      oldEnvMap = state.scene.background;\n      if (envMap) state.scene.background = envMap;\n      state.gl.render(state.scene, cameraRef.current);\n      state.scene.background = oldEnvMap;\n      state.gl.setRenderTarget(null);\n      groupRef.current.visible = true;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"orthographicCamera\", _extends({\n    left: size.width / -2,\n    right: size.width / 2,\n    top: size.height / 2,\n    bottom: size.height / -2,\n    ref: cameraRef\n  }, props), !functional && children), /*#__PURE__*/React.createElement(\"group\", {\n    ref: groupRef\n  }, functional && children(fbo.texture)));\n});\n\nexport { OrthographicCamera };\n","import * as THREE from 'three';\nimport * as React from 'react';\nimport { useThree, createPortal, useFrame } from '@react-three/fiber';\n\nfunction RenderHud({\n  defaultScene,\n  defaultCamera,\n  renderPriority = 1\n}) {\n  const {\n    gl,\n    scene,\n    camera\n  } = useThree();\n  let oldCLear;\n  useFrame(() => {\n    oldCLear = gl.autoClear;\n    if (renderPriority === 1) {\n      // Clear scene and render the default scene\n      gl.autoClear = true;\n      gl.render(defaultScene, defaultCamera);\n    }\n    // Disable cleaning and render the portal with its own camera\n    gl.autoClear = false;\n    gl.clearDepth();\n    gl.render(scene, camera);\n    // Restore default\n    gl.autoClear = oldCLear;\n  }, renderPriority);\n  // Without an element that receives pointer events state.pointer will always be 0/0\n  return /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  });\n}\nfunction Hud({\n  children,\n  renderPriority = 1\n}) {\n  const {\n    scene: defaultScene,\n    camera: defaultCamera\n  } = useThree();\n  const [hudScene] = React.useState(() => new THREE.Scene());\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(/*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(RenderHud, {\n    defaultScene: defaultScene,\n    defaultCamera: defaultCamera,\n    renderPriority: renderPriority\n  })), hudScene, {\n    events: {\n      priority: renderPriority + 1\n    }\n  }));\n}\n\nexport { Hud };\n","import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { Vector3, Object3D, Matrix4, Quaternion } from 'three';\nimport { OrthographicCamera } from './OrthographicCamera.js';\nimport { Hud } from './Hud.js';\n\nconst Context = /* @__PURE__ */React.createContext({});\nconst useGizmoContext = () => {\n  return React.useContext(Context);\n};\nconst turnRate = 2 * Math.PI; // turn rate in angles per second\nconst dummy = /* @__PURE__ */new Object3D();\nconst matrix = /* @__PURE__ */new Matrix4();\nconst [q1, q2] = [/* @__PURE__ */new Quaternion(), /* @__PURE__ */new Quaternion()];\nconst target = /* @__PURE__ */new Vector3();\nconst targetPosition = /* @__PURE__ */new Vector3();\nconst isOrbitControls = controls => {\n  return 'minPolarAngle' in controls;\n};\nconst isCameraControls = controls => {\n  return 'getTarget' in controls;\n};\nconst GizmoHelper = ({\n  alignment = 'bottom-right',\n  margin = [80, 80],\n  renderPriority = 1,\n  onUpdate,\n  onTarget,\n  children\n}) => {\n  const size = useThree(state => state.size);\n  const mainCamera = useThree(state => state.camera);\n  // @ts-ignore\n  const defaultControls = useThree(state => state.controls);\n  const invalidate = useThree(state => state.invalidate);\n  const gizmoRef = React.useRef(null);\n  const virtualCam = React.useRef(null);\n  const animating = React.useRef(false);\n  const radius = React.useRef(0);\n  const focusPoint = React.useRef(new Vector3(0, 0, 0));\n  const defaultUp = React.useRef(new Vector3(0, 0, 0));\n  React.useEffect(() => {\n    defaultUp.current.copy(mainCamera.up);\n    dummy.up.copy(mainCamera.up);\n  }, [mainCamera]);\n  const tweenCamera = React.useCallback(direction => {\n    animating.current = true;\n    if (defaultControls || onTarget) {\n      focusPoint.current = (onTarget == null ? void 0 : onTarget()) || (isCameraControls(defaultControls) ? defaultControls.getTarget(focusPoint.current) : defaultControls == null ? void 0 : defaultControls.target);\n    }\n    radius.current = mainCamera.position.distanceTo(target);\n\n    // Rotate from current camera orientation\n    q1.copy(mainCamera.quaternion);\n\n    // To new current camera orientation\n    targetPosition.copy(direction).multiplyScalar(radius.current).add(target);\n    dummy.lookAt(targetPosition);\n    q2.copy(dummy.quaternion);\n    invalidate();\n  }, [defaultControls, mainCamera, onTarget, invalidate]);\n  useFrame((_, delta) => {\n    if (virtualCam.current && gizmoRef.current) {\n      var _gizmoRef$current;\n      // Animate step\n      if (animating.current) {\n        if (q1.angleTo(q2) < 0.01) {\n          animating.current = false;\n          // Orbit controls uses UP vector as the orbit axes,\n          // so we need to reset it after the animation is done\n          // moving it around for the controls to work correctly\n          if (isOrbitControls(defaultControls)) {\n            mainCamera.up.copy(defaultUp.current);\n          }\n        } else {\n          const step = delta * turnRate;\n          // animate position by doing a slerp and then scaling the position on the unit sphere\n          q1.rotateTowards(q2, step);\n          // animate orientation\n          mainCamera.position.set(0, 0, 1).applyQuaternion(q1).multiplyScalar(radius.current).add(focusPoint.current);\n          mainCamera.up.set(0, 1, 0).applyQuaternion(q1).normalize();\n          mainCamera.quaternion.copy(q1);\n          if (isCameraControls(defaultControls)) defaultControls.setPosition(mainCamera.position.x, mainCamera.position.y, mainCamera.position.z);\n          if (onUpdate) onUpdate();else if (defaultControls) defaultControls.update(delta);\n          invalidate();\n        }\n      }\n\n      // Sync Gizmo with main camera orientation\n      matrix.copy(mainCamera.matrix).invert();\n      (_gizmoRef$current = gizmoRef.current) == null || _gizmoRef$current.quaternion.setFromRotationMatrix(matrix);\n    }\n  });\n  const gizmoHelperContext = React.useMemo(() => ({\n    tweenCamera\n  }), [tweenCamera]);\n\n  // Position gizmo component within scene\n  const [marginX, marginY] = margin;\n  const x = alignment.endsWith('-center') ? 0 : alignment.endsWith('-left') ? -size.width / 2 + marginX : size.width / 2 - marginX;\n  const y = alignment.startsWith('center-') ? 0 : alignment.startsWith('top-') ? size.height / 2 - marginY : -size.height / 2 + marginY;\n  return /*#__PURE__*/React.createElement(Hud, {\n    renderPriority: renderPriority\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: gizmoHelperContext\n  }, /*#__PURE__*/React.createElement(OrthographicCamera, {\n    makeDefault: true,\n    ref: virtualCam,\n    position: [0, 0, 200]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: gizmoRef,\n    position: [x, y, 0]\n  }, children)));\n};\n\nexport { GizmoHelper, useGizmoContext };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { CanvasTexture } from 'three';\nimport { useGizmoContext } from './GizmoHelper.js';\n\nfunction Axis({\n  scale = [0.8, 0.05, 0.05],\n  color,\n  rotation\n}) {\n  return /*#__PURE__*/React.createElement(\"group\", {\n    rotation: rotation\n  }, /*#__PURE__*/React.createElement(\"mesh\", {\n    position: [0.4, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"boxGeometry\", {\n    args: scale\n  }), /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    color: color,\n    toneMapped: false\n  })));\n}\nfunction AxisHead({\n  onClick,\n  font,\n  disabled,\n  arcStyle,\n  label,\n  labelColor,\n  axisHeadScale = 1,\n  ...props\n}) {\n  const gl = useThree(state => state.gl);\n  const texture = React.useMemo(() => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 64;\n    canvas.height = 64;\n    const context = canvas.getContext('2d');\n    context.beginPath();\n    context.arc(32, 32, 16, 0, 2 * Math.PI);\n    context.closePath();\n    context.fillStyle = arcStyle;\n    context.fill();\n    if (label) {\n      context.font = font;\n      context.textAlign = 'center';\n      context.fillStyle = labelColor;\n      context.fillText(label, 32, 41);\n    }\n    return new CanvasTexture(canvas);\n  }, [arcStyle, label, labelColor, font]);\n  const [active, setActive] = React.useState(false);\n  const scale = (label ? 1 : 0.75) * (active ? 1.2 : 1) * axisHeadScale;\n  const handlePointerOver = e => {\n    e.stopPropagation();\n    setActive(true);\n  };\n  const handlePointerOut = e => {\n    e.stopPropagation();\n    setActive(false);\n  };\n  return /*#__PURE__*/React.createElement(\"sprite\", _extends({\n    scale: scale,\n    onPointerOver: !disabled ? handlePointerOver : undefined,\n    onPointerOut: !disabled ? onClick || handlePointerOut : undefined\n  }, props), /*#__PURE__*/React.createElement(\"spriteMaterial\", {\n    map: texture,\n    \"map-anisotropy\": gl.capabilities.getMaxAnisotropy() || 1,\n    alphaTest: 0.3,\n    opacity: label ? 1 : 0.75,\n    toneMapped: false\n  }));\n}\nconst GizmoViewport = ({\n  hideNegativeAxes,\n  hideAxisHeads,\n  disabled,\n  font = '18px Inter var, Arial, sans-serif',\n  axisColors = ['#ff2060', '#20df80', '#2080ff'],\n  axisHeadScale = 1,\n  axisScale,\n  labels = ['X', 'Y', 'Z'],\n  labelColor = '#000',\n  onClick,\n  ...props\n}) => {\n  const [colorX, colorY, colorZ] = axisColors;\n  const {\n    tweenCamera\n  } = useGizmoContext();\n  const axisHeadProps = {\n    font,\n    disabled,\n    labelColor,\n    onClick,\n    axisHeadScale,\n    onPointerDown: !disabled ? e => {\n      tweenCamera(e.object.position);\n      e.stopPropagation();\n    } : undefined\n  };\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    scale: 40\n  }, props), /*#__PURE__*/React.createElement(Axis, {\n    color: colorX,\n    rotation: [0, 0, 0],\n    scale: axisScale\n  }), /*#__PURE__*/React.createElement(Axis, {\n    color: colorY,\n    rotation: [0, 0, Math.PI / 2],\n    scale: axisScale\n  }), /*#__PURE__*/React.createElement(Axis, {\n    color: colorZ,\n    rotation: [0, -Math.PI / 2, 0],\n    scale: axisScale\n  }), !hideAxisHeads && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [1, 0, 0],\n    label: labels[0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, 1, 0],\n    label: labels[1]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, 1],\n    label: labels[2]\n  }, axisHeadProps)), !hideNegativeAxes && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorX,\n    position: [-1, 0, 0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorY,\n    position: [0, -1, 0]\n  }, axisHeadProps)), /*#__PURE__*/React.createElement(AxisHead, _extends({\n    arcStyle: colorZ,\n    position: [0, 0, -1]\n  }, axisHeadProps)))));\n};\n\nexport { GizmoViewport };\n"],"names":["useFBO","width","height","settings","size","useThree","state","viewport","_width","_height","_settings","samples","depth","targetSettings","depthBuffer","target","React.useMemo","THREE.WebGLRenderTarget","THREE.LinearFilter","THREE.HalfFloatType","THREE.DepthTexture","THREE.FloatType","React.useLayoutEffect","React.useEffect","isFunction","node","OrthographicCamera","React.forwardRef","envMap","resolution","frames","children","makeDefault","props","ref","set","camera","cameraRef","React.useRef","React.useImperativeHandle","groupRef","fbo","oldCam","count","oldEnvMap","functional","useFrame","React.createElement","React.Fragment","_extends","RenderHud","defaultScene","defaultCamera","renderPriority","gl","scene","oldCLear","Hud","hudScene","React.useState","THREE.Scene","createPortal","Context","React.createContext","useGizmoContext","React.useContext","turnRate","dummy","Object3D","matrix","Matrix4","q1","q2","Quaternion","Vector3","targetPosition","isOrbitControls","controls","isCameraControls","GizmoHelper","alignment","margin","onUpdate","onTarget","mainCamera","defaultControls","invalidate","gizmoRef","virtualCam","animating","radius","focusPoint","defaultUp","tweenCamera","React.useCallback","direction","_","delta","_gizmoRef$current","step","gizmoHelperContext","marginX","marginY","x","y","Axis","scale","color","rotation","AxisHead","onClick","font","disabled","arcStyle","label","labelColor","axisHeadScale","texture","canvas","context","CanvasTexture","active","setActive","handlePointerOver","e","handlePointerOut","GizmoViewport","hideNegativeAxes","hideAxisHeads","axisColors","axisScale","labels","colorX","colorY","colorZ","axisHeadProps"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}