import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{T as f}from"./TilesRenderer-Bm042Xsy.js";import{E as h}from"./EnvironmentControls-BRF5UI-K.js";import{C as A}from"./plugins-DBdp9Zs1.js";import{S as x,e as T,E as y,W as E,a as P,d as C,o as l,Q as I}from"./three.module-D-uF--xd.js";import{D as R}from"./DRACOLoader-gn1nzdEq.js";import{g as k}from"./lil-gui.module.min-BH_YJbPT.js";import{G as z}from"./GLTFExtensionsPlugin-CGSNI2LM.js";import"./TilesRendererBase-CFsQu8zV.js";import"./constants-JFoaxC9y.js";import"./BatchTable-CRr3zuRk.js";import"./B3DMLoader-Cnf0ja_2.js";import"./B3DMLoaderBase-w5mdSgm-.js";import"./GLTFLoader-B4GrkiON.js";import"./PNTSLoader-DwvZQNdL.js";import"./I3DMLoader-BWluRuWb.js";import"./Ellipsoid-Dwquuq5w.js";import"./CMPTLoader-BOTrymv0.js";import"./EllipsoidRegion-VNvPMw5b.js";import"./GoogleCloudAuth-vMnc9CC1.js";import"./CesiumIonAuth-ByA9ya_o.js";import"./EPSGTilesPlugin-DX3n6hNw.js";import"./ImageFormatPlugin-DGN9sc3I.js";import"./TMSImageSource-BIqdNmly.js";import"./TiledImageSource-DmD64Gn9.js";import"./GeometryClipper-7b525s21.js";let t,d,s,i,e;const v=localStorage.getItem("ionApiKey")??"put-your-api-key-here",a={ionAssetId:"40866",ionAccessToken:v,reload:u};W();w();function D(n,r){const o=new I,p=new l().crossVectors(n,r);return o.x=p.x,o.y=p.y,o.z=p.z,o.w=1+n.clone().dot(r),o.normalize(),o}function S(){e.fetchOptions.mode="cors",e.registerPlugin(new z({dracoLoader:new R().setDecoderPath("https://unpkg.com/three@0.153.0/examples/jsm/libs/draco/gltf/")})),s.add(e.group)}function u(){e&&(s.remove(e.group),e.dispose(),e=null),localStorage.setItem("ionApiKey",a.ionAccessToken),e=new f,e.registerPlugin(new A({apiToken:a.ionAccessToken,assetId:a.ionAssetId,autoRefreshToken:!0})),e.addEventListener("load-root-tileset",()=>{const n=new C;e.getBoundingSphere(n);const r=n.center.clone(),o=r.length(),p=r.normalize(),g=new l(0,1,0),m=D(p,g);e.group.quaternion.x=m.x,e.group.quaternion.y=m.y,e.group.quaternion.z=m.z,e.group.quaternion.w=m.w,e.group.position.y=-o}),S()}function W(){s=new x;const n=new T(new Uint8Array(4096*4).fill(255),64,64);n.mapping=y,n.needsUpdate=!0,s.environment=n,i=new E({antialias:!0}),i.setClearColor(1383455),document.body.appendChild(i.domElement),i.domElement.tabIndex=1,t=new P(60,window.innerWidth/window.innerHeight,1,1e5),t.position.set(100,100,-100),t.lookAt(0,0,0),d=new h(s,t,i.domElement),d.adjustHeight=!1,d.minDistance=1,d.maxAltitude=Math.PI,u(),c(),window.addEventListener("resize",c,!1);const r=new k;r.width=300;const o=r.addFolder("Ion");o.add(a,"ionAssetId"),o.add(a,"ionAccessToken"),o.add(a,"reload"),o.open()}function c(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(window.devicePixelRatio)}function w(){requestAnimationFrame(w),e&&(d.update(),e.setCamera(t),e.setResolutionFromRenderer(t,i),t.updateMatrixWorld(),e.update(),i.render(s,t))}
//# sourceMappingURL=ionExample-Dkba8wrL.js.map
