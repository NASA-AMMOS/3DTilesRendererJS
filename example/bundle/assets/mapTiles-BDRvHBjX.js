import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{W as u,S as c,a as g}from"./three.module-D-uF--xd.js";import{T as w}from"./TilesRenderer-Bm042Xsy.js";import{G as f}from"./GlobeControls-4ScISV7m.js";import{E as h}from"./EnvironmentControls-BRF5UI-K.js";import{U as P}from"./UpdateOnChangePlugin-BPSehBEG.js";import{T as C}from"./TilesFadePlugin-BRcOjUD_.js";import{X as E}from"./EPSGTilesPlugin-DX3n6hNw.js";import{g as x}from"./lil-gui.module.min-BH_YJbPT.js";import"./TilesRendererBase-CFsQu8zV.js";import"./constants-JFoaxC9y.js";import"./BatchTable-CRr3zuRk.js";import"./B3DMLoader-Cnf0ja_2.js";import"./B3DMLoaderBase-w5mdSgm-.js";import"./GLTFLoader-B4GrkiON.js";import"./PNTSLoader-DwvZQNdL.js";import"./I3DMLoader-BWluRuWb.js";import"./Ellipsoid-Dwquuq5w.js";import"./CMPTLoader-BOTrymv0.js";import"./EllipsoidRegion-VNvPMw5b.js";import"./ImageFormatPlugin-DGN9sc3I.js";import"./TMSImageSource-BIqdNmly.js";import"./TiledImageSource-DmD64Gn9.js";let n,o,r,e,i;const s={errorTarget:1,planar:!1},a=R(m);T();m();function T(){r=new u({antialias:!0}),r.setPixelRatio(window.devicePixelRatio),r.setSize(window.innerWidth,window.innerHeight),r.setClearColor(1118481),document.body.appendChild(r.domElement),o=new c,i=new g(60,window.innerWidth/window.innerHeight,.001,1e4),p(),l(),window.addEventListener("resize",l,!1);const t=new x;t.add(s,"planar").onChange(p),t.add(s,"errorTarget",1,40).onChange(()=>{e.getPluginByName("UPDATE_ON_CHANGE_PLUGIN").needsUpdate=!0,a()}),t.open()}function p(){e&&e.dispose(),n&&n.dispose(),e=new w,e.registerPlugin(new C({maximumFadeOutTiles:200})),e.registerPlugin(new P),e.registerPlugin(new E({center:!0,shape:s.planar?"planar":"ellipsoid",url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"})),e.lruCache.minSize=900,e.lruCache.maxSize=1300,e.parseQueue.maxJobs=3,e.setCamera(i),o.add(e.group),s.planar?(n=new h(o,i,r.domElement),n.enableDamping=!0,n.minDistance=1e-4,n.maxDistance=5,n.cameraRadius=0,n.fallbackPlane.normal.set(0,0,1),n.up.set(0,0,1),n.camera.position.set(0,0,2),n.camera.quaternion.identity(),i.near=1e-4,i.far=10,i.updateProjectionMatrix()):(e.group.rotation.x=-Math.PI/2,n=new f(o,i,r.domElement),n.setEllipsoid(e.ellipsoid,e.group),n.enableDamping=!0,n.camera.position.set(0,0,1.75*1e7),n.camera.quaternion.identity(),n.minDistance=150),n.addEventListener("change",a),n.addEventListener("end",a),e.addEventListener("needs-render",a),e.addEventListener("needs-update",a),m()}function l(){const t=window.innerWidth/window.innerHeight;i.aspect=t,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight),a()}function m(){n.update(),i.updateMatrixWorld(),e.errorTarget=s.errorTarget,e.setCamera(i),e.setResolutionFromRenderer(i,r),e.update(),r.render(o,i)}function R(t){let d=!1;return()=>{d||(d=!0,requestAnimationFrame(()=>{d=!1,t()}))}}
//# sourceMappingURL=mapTiles-BDRvHBjX.js.map
